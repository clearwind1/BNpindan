var GameUtil;!function(t){var e=function(t){function e(e,i,n){t.call(this),this.init(e,i,n)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.init=function(t,e,i){this.texture=t,this.$setX(e),this.$setY(i),this.setanchorOff(.5,.5)},p.setNewTexture=function(t){this.texture=t,this.setanchorOff(.5,.5)},p.setanchorOff=function(t,e){this.anchorOffsetX=this.$getWidth()*t,this.anchorOffsetY=this.$getHeight()*e},e}(egret.Bitmap);t.MyBitmap=e,egret.registerClass(e,"GameUtil.MyBitmap")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(t){function e(e,i,n,s,a){t.call(this,RES.getRes(e+"1"),s,a),this.currentNumber=1,this.countNumber=0,this.bLoopCount=0,this.endcallfun=null,this.thisObj=null,this.textureName=e,this.totalNumber=i,this.frameRate=n}__extends(e,t);var i=(__define,e);return p=i.prototype,p.setLoop=function(t){0==t&&(t=1),this.bLoopCount=t-1},p.play=function(){this.intervaltag=egret.setInterval(this.run,this,this.frameRate)},p.run=function(){this.nextFrame()},p.stop=function(){egret.clearInterval(this.intervaltag)},p.nextFrame=function(){if(this.currentNumber++,this.currentNumber>=this.totalNumber){if(this.currentNumber=1,0==this.bLoopCount)return this.stop(),null!=this.endcallfun&&this.endcallfun.apply(this.thisObj),void this.parent.removeChild(this);this.bLoopCount>0&&this.bLoopCount--}this.setNewTexture(RES.getRes(this.textureName+this.currentNumber))},p.setendcall=function(t,e){this.thisObj=e,this.endcallfun=t},e}(t.MyBitmap);t.Animation=e,egret.registerClass(e,"GameUtil.Animation")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(t){function e(){t.call(this),this.mStageW=egret.MainContext.instance.stage.stageWidth,this.mStageH=egret.MainContext.instance.stage.stageHeight,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(t){this.init()},p.init=function(){},e}(egret.DisplayObjectContainer);t.BassPanel=e,egret.registerClass(e,"GameUtil.BassPanel");var i=function(){function e(){}var i=(__define,e);return p=i.prototype,e.init=function(t){this.MainStage=t},e.runscene=function(e,i,n){if(void 0===i&&(i=t.GameConfig.NullAction),void 0===n&&(n=800),null==this.curScene)return this.curScene=e,void this.MainStage.addChild(this.curScene);if(i==t.GameConfig.NullAction)return null!=this.curScene&&this.MainStage.removeChild(this.curScene),this.curScene=e,void this.MainStage.addChild(this.curScene);this.nextScene=e,this.MainStage.addChild(this.nextScene),i==t.GameConfig.TransAlpha&&(this.nextScene.alpha=0,egret.Tween.get(this.curScene).to({alpha:0},n),egret.Tween.get(this.nextScene).to({alpha:1},n)),i==t.GameConfig.CrossLeft&&(this.nextScene.x=-this.MainStage.stageWidth,egret.Tween.get(this.curScene).to({x:this.MainStage.stageWidth},n),egret.Tween.get(this.nextScene).to({x:0},n)),i==t.GameConfig.OpenDoor;var s=this;egret.setTimeout(function(){s.MainStage.removeChild(s.curScene),s.curScene=s.nextScene},this,n)},e.curScene=null,e.nextScene=null,e.MainStage=null,e}();t.GameScene=i,egret.registerClass(i,"GameUtil.GameScene")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),t.call(this),this.imgUrl=e,this.imgwidth=i,this.imgheight=n,this.init()}__extends(e,t);var i=(__define,e);return p=i.prototype,p.init=function(){RES.getResByUrl(this.imgUrl,this.comp,this,RES.ResourceItem.TYPE_IMAGE)},p.comp=function(t){this.imag=new egret.Bitmap,this.imag.texture=t,this.addChild(this.imag),0!=this.imgwidth&&(this.imag.width=this.imgwidth),0!=this.imgheight&&(this.imag.height=this.imgheight),this.imag.anchorOffsetX=this.imgwidth/2,this.imag.anchorOffsetY=this.imgheight/2},p.getimg=function(){return this.imag},e}(egret.DisplayObjectContainer);t.GetImageByUrl=e,egret.registerClass(e,"GameUtil.GetImageByUrl")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(t){function e(e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),t.call(this),this.imgUrl=e,this.imgwidth=i,this.imgheight=n,this.init()}__extends(e,t);var i=(__define,e);return p=i.prototype,p.init=function(){RES.getResAsync(this.imgUrl,this.comp,this)},p.comp=function(t){this.imag=new egret.Bitmap,this.imag.texture=t,this.addChild(this.imag),0!=this.imgwidth&&(this.imag.width=this.imgwidth),0!=this.imgheight&&(this.imag.height=this.imgheight),this.imag.anchorOffsetX=this.imgwidth/2,this.imag.anchorOffsetY=this.imgheight/2},e}(egret.DisplayObjectContainer);t.GetResByany=e,egret.registerClass(e,"GameUtil.GetResByany")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(){function e(t,e){void 0===t&&(t=egret.URLRequestMethod.POST),void 0===e&&(e=egret.URLLoaderDataFormat.TEXT),this.init(t,e)}var i=(__define,e);return p=i.prototype,p.init=function(t,e){void 0===t&&(t=egret.URLRequestMethod.POST),void 0===e&&(e=egret.URLLoaderDataFormat.TEXT),this.urlLoader=new egret.URLLoader,this.urlLoader.dataFormat=e,this.urlLoader.addEventListener(egret.Event.COMPLETE,this.loaded,this),this.urlRequest=new egret.URLRequest,this.urlRequest.method=t},p.loaded=function(t){this.urlLoader.removeEventListener(egret.Event.COMPLETE,this.loaded,this),this.thisObj.removeChild(this.coverBg);var e=JSON.parse(this.urlLoader.data);null!=this.onLoader&&this.onLoader.apply(this.thisObj,[e])},p.send=function(e,i,n,s,a){void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=t.GameConfig.IP),this.urlRequest.url="Http://"+a+i,this.onLoader=n,this.thisObj=s;var o=new egret.URLVariables(t.objectToString(e));this.urlRequest.data=o,this.urlLoader.addEventListener(egret.Event.COMPLETE,this.loaded,this),this.urlLoader.load(this.urlRequest),this.coverBg=t.createRect(0,0,window.screen.availWidth,window.screen.availHeight,0),this.thisObj.addChild(this.coverBg),this.coverBg.touchEnabled=!0},p.setReqMethod=function(t){this.urlRequest.method=t},e.getinstance=function(t,i){return void 0===t&&(t=egret.URLRequestMethod.POST),void 0===i&&(i=egret.URLLoaderDataFormat.TEXT),null==e._instance&&(e._instance=new e(t,i)),e._instance},e}();t.Http=e,egret.registerClass(e,"GameUtil.Http")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(t){function e(e,i,n,s,a){void 0===s&&(s=.5),void 0===a&&(a=.5),t.call(this),this.init(e,i,n,s,a)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.init=function(t,e,i,n,s){this.$setX(t),this.$setY(e),this.$setSize(i),this.anchorX=n,this.anchorY=s},p.setText=function(t){this.text=t,this.setanchorOff(this.anchorX,this.anchorY)},p.setSize=function(t){this.size=t,this.setanchorOff(this.anchorX,this.anchorY)},p.setanchorOff=function(t,e){this.anchorOffsetX=this.$getWidth()*t,this.anchorOffsetY=this.$getHeight()*e},e}(egret.TextField);t.MyTextField=e,egret.registerClass(e,"GameUtil.MyTextField")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(t){function e(e,i,n,s,a,o,r){void 0===o&&(o=.5),void 0===r&&(r=.5),t.call(this,e,i,n,o,r),this.width=s,this.height=n,this.type=egret.TextFieldType.INPUT,this.baseText="",this.addEventListener(egret.FocusEvent.FOCUS_IN,this.onFocusIn,this),this.addEventListener(egret.FocusEvent.FOCUS_OUT,this.onFocusOut,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.setBaseText=function(t,e){this.baseText=t,this.baseTextAlpha=e,this.setText(this.baseText),this.alpha=this.baseTextAlpha},p.setBaseTextSize=function(t,e){this.basetextsize=t,this.sourcesize=e,this.text==this.baseText&&(this.setSize(this.basetextsize),this.height=t)},p.onFocusIn=function(t){this.text==this.baseText&&(this.setText(""),this.height=this.sourcesize,this.setSize(this.sourcesize),this.alpha=1)},p.onFocusOut=function(t){""==this.text&&(this.setText(this.baseText),this.alpha=this.baseTextAlpha,this.height=this.basetextsize,this.setSize(this.basetextsize))},e}(t.MyTextField);t.InputTextFiled=e,egret.registerClass(e,"GameUtil.InputTextFiled")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(){function t(t,e){this.loadedfun=t,this.thisObj=e,this.loadingRes()}var e=(__define,t);return p=e.prototype,p.loadingRes=function(){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},p.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preloading")},p.onResourceLoadComplete=function(t){"preloading"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.loadedfun.apply(this.thisObj))},p.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},p.onResourceProgress=function(t){"preloading"==t.groupName},t}();t.LoadingLogopre=e,egret.registerClass(e,"GameUtil.LoadingLogopre")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(e){function i(t,i,n,s,a,o){void 0===n&&(n=0),void 0===s&&(s=0),void 0===a&&(a=!1),void 0===o&&(o=4),this.loadedfun=t,this.thisObj=i,this.IsGif=a,this.gifTotalcount=o,this.loadingbarOffX=n,this.loadingbarOffY=s,e.call(this)}__extends(i,e);var n=(__define,i);return p=n.prototype,p.init=function(){new t.LoadingLogopre(this.onComplete,this)},p.onComplete=function(e){if(this.IsGif)this.gifruncount=0,this.loadingbar=new t.MyBitmap(RES.getRes("loadinggif0_png"),this.mStageW/2+this.loadingbarOffX,this.mStageH/2+this.loadingbarOffY),this.addChild(this.loadingbar),egret.setInterval(this.rungif,this,150);else{this.loadingbar=new t.MyBitmap(RES.getRes("loadingbar_png"),this.loadingbarOffX,this.mStageH/2+this.loadingbarOffY),this.loadingbar.anchorOffsetX=0;var i=this.loadingbar.texture.textureWidth-8,n=this.loadingbar.texture.textureHeight-8,s=new egret.Rectangle(4,4,i,n);this.loadingbar.scale9Grid=s,this.addChild(this.loadingbar),this.loadingbar.width=10}this.loadingRes()},p.rungif=function(){this.gifruncount++,this.gifruncount>=this.gifTotalcount&&(this.gifruncount=0),this.loadingbar.setNewTexture(RES.getRes("loadinggif"+this.gifruncount+"_png"))},p.loadingRes=function(){this.loadingView=new LoadingUI,this.loadingView.x=this.mStageW/2,this.loadingView.y=this.mStageH/2+this.loadingbar.height/2+30,this.addChild(this.loadingView),this.loadingView.anchorOffsetX=this.loadingView.width/2,RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},p.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("preload")},p.onResourceLoadComplete=function(t){"preload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.loadedfun.apply(this.thisObj),this.parent.removeChild(this))},p.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},p.onResourceProgress=function(t){"preload"==t.groupName&&(this.IsGif||this.setPro(t.itemsLoaded/t.itemsTotal),this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal))},p.setPro=function(t){this.loadingbar.width=this.loadingbar.texture.textureWidth*t},p.getPro=function(){return this.loadingbar.width/this.loadingbar.texture.textureWidth},i}(t.BassPanel);t.LoadingPanel=e,egret.registerClass(e,"GameUtil.LoadingPanel")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(e){function i(t,i,n,s,a){void 0===s&&(s=null),void 0===a&&(a=null),e.call(this),this.menuNormalTexture=null,this.menuSelectTexture=null,this.bScaleMode=!1,this.mScale=.9,this.isActive=!1,this.thisObj=t,this.param=a,this.init(i,n,s)}__extends(i,e);var n=(__define,i);return p=n.prototype,p.init=function(e,i,n){void 0===n&&(n=null),this.menuNormalTexture=RES.getRes(e),this.menuSelectTexture=RES.getRes(i),this.backFun=n,this.btnImg=new t.MyBitmap(this.menuNormalTexture,0,0),this.addChild(this.btnImg),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.TouchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.TouchMove,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.TouchEnd,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.TouchCancel,this)},p.setBackFun=function(t){this.backFun=t},p.setScaleMode=function(t){void 0===t&&(t=.9),this.bScaleMode=!0,this.mScale=t},p.setButtonTexture=function(t,e){this.menuNormalTexture=RES.getRes(t),this.menuSelectTexture=RES.getRes(e),this.btnImg.setNewTexture(this.menuNormalTexture)},p.addButtonImg=function(e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this.addImg=new t.MyBitmap(RES.getRes(e),i,n),this.addChild(this.addImg)},p.setAddImgTexture=function(t){this.addImg.setNewTexture(RES.getRes(t))},p.addButtonText=function(e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=0),null!=this.btnImg.texture?this.mTextField=new t.MyTextField(n,s,i):this.mTextField=new t.MyTextField(n,s,i),this.mTextField.setText(e),this.addChild(this.mTextField)},p.getBtnText=function(){return this.mTextField},p.setBtnScale=function(t,e){this.btnImg.scaleX=t,this.btnImg.scaleY=e},p.TouchBegin=function(t){this.btnImg.setNewTexture(this.menuSelectTexture),this.bScaleMode&&(this.scaleX=this.scaleY=this.mScale),this.isActive=!0},p.TouchMove=function(t){},p.TouchEnd=function(t){this.btnImg.setNewTexture(this.menuNormalTexture),this.bScaleMode&&(this.scaleX=this.scaleY=1),this.isActive&&this.backFun.apply(this.thisObj,this.param),this.isActive=!1},p.TouchCancel=function(t){this.btnImg.setNewTexture(this.menuNormalTexture),this.bScaleMode&&(this.scaleX=this.scaleY=1),this.isActive=!1},i}(egret.DisplayObjectContainer);t.Menu=e,egret.registerClass(e,"GameUtil.Menu")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(e){function i(t,i,n,s,a,o){void 0===a&&(a=0),void 0===o&&(o=.5),e.call(this),this.mPercent=100,this.init(t,i,n,s,a,o)}__extends(i,e);var n=(__define,i);return p=n.prototype,p.init=function(e,i,n,s,a,o){this.progressbar=new t.MyBitmap(RES.getRes(e),i,n),this.addChild(this.progressbar),this.progressbar.scale9Grid=s,this.progressbar.setanchorOff(a,o)},p.setbarX=function(t){this.progressbar.x=t},p.setbarY=function(t){this.progressbar.y=t},p.setPercent=function(t){0>t||(this.mPercent=t,this.updateWidth())},p.getPercent=function(){return this.mPercent},p.updateWidth=function(){this.progressbar.width=this.progressbar.texture.textureWidth*this.mPercent},i}(egret.DisplayObjectContainer);t.ProgressBar=e,egret.registerClass(e,"GameUtil.ProgressBar")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(e){function i(t,i){e.call(this),this.item=[],this.curseltTag=0,this.itemCount=-1,this.normalTexture=t,this.selectTexture=i,this.init()}__extends(i,e);var n=(__define,i);return p=n.prototype,p.init=function(){},p.addItem=function(e,i,n){this.itemCount++;var s=new egret.DisplayObjectContainer,a=new t.Menu(this,this.normalTexture,this.normalTexture,this.chooseButton,[this.itemCount]);a.x=i,a.y=n,s.addChild(a),e.x=i+a.width/2+e.width/2,e.y=n,s.addChild(e),this.item.push(a),this.addChild(s),0==this.itemCount&&a.setButtonTexture(this.selectTexture,this.selectTexture)},p.chooseButton=function(t){if(t!=this.curseltTag){var e=this.item[t];e.setButtonTexture(this.selectTexture,this.selectTexture);var i=this.item[this.curseltTag];i.setButtonTexture(this.normalTexture,this.normalTexture),this.curseltTag=t}},p.getCurSelectTag=function(){return this.curseltTag},i}(egret.DisplayObjectContainer);t.RadioButton=e,egret.registerClass(e,"GameUtil.RadioButton")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(t){function e(e,i,n){void 0===n&&(n=.5),t.call(this),this.scrollview=new egret.ScrollView,this.content=new egret.DisplayObjectContainer,this.addChild(this.scrollview),this.scrollview.width=e,this.scrollview.height=i,this.scrollview.scrollSpeed=n,this.init()}__extends(e,t);var i=(__define,e);return p=i.prototype,p.init=function(){this.scrollview.setContent(this.content)},p.putItem=function(t){this.content.addChild(t)},p.clearItem=function(){this.content.removeChildren()},p.getScorllTop=function(){return this.scrollview.scrollTop},p.setScorllTop=function(t){this.scrollview.scrollTop=t},e}(egret.DisplayObjectContainer);t.ScrollView=e,egret.registerClass(e,"GameUtil.ScrollView")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(e){function i(t,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=1200),e.call(this),this.textsize=30,this.mStageW=egret.MainContext.instance.stage.stageWidth,this.mStageH=egret.MainContext.instance.stage.stageHeight,this.tipText=i,this.tipImg=t,this.bDisappear=n,this.disSecond=s,this.init()}__extends(i,e);var n=(__define,i);return p=n.prototype,p.init=function(){if(!this.bDisappear){var e=t.createRect(0,0,window.screen.availWidth,window.screen.availHeight,.4);this.addChild(e),this.touchEnabled=!0}if(null==this.tipImg){var i=t.createRect(this.mStageW/2,this.mStageH/2,window.screen.availWidth,100,1,9210760);i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,this.addChild(i)}else this.tipbg=new t.MyBitmap(RES.getRes(this.tipImg),this.mStageW/2,this.mStageH/2),this.addChild(this.tipbg);if(this.showtip(),this.bDisappear){var n=egret.Tween.get(this);n.to({alpha:1},300).to({alpha:0},this.disSecond).call(this.close,this)}else this.showbutton()},p.showtip=function(){this.text=new t.MyTextField(this.mStageW/2,this.mStageH/2,this.textsize),this.text.setText(this.tipText),this.text.textColor=0,this.addChild(this.text)},p.setTextwidth=function(t){this.text.width=t},p.setTextSize=function(t){this.text.setSize(t)},p.setTextHor=function(t,e,i,n){this.text.textAlign=i,this.text.x=this.mStageW/2-this.tipbg.width/2+n},p.setTextlineSpacing=function(t){this.text.lineSpacing=t},p.showbutton=function(){var e=new t.Menu(this,"acceptBtn_png","acceptBtn_png",this.close);e.x=this.mStageW/2,e.y=this.mStageH/2+this.tipbg.texture.textureHeight/2,this.addChild(e),e.setScaleMode()},p.close=function(){this.parent.removeChild(this)},i}(egret.DisplayObjectContainer);t.TipsPanel=e,egret.registerClass(e,"GameUtil.TipsPanel")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){var e=function(e){function i(t){void 0===t&&(t=0),e.call(this),this.init(t)}__extends(i,e);var n=(__define,i);return p=n.prototype,p.init=function(e){this.coverBg=t.createRect(0,0,640,1136,0),this.addChild(this.coverBg),this.touchEnabled=!0},p.setAlpha=function(t){this.coverBg.alpha=t},i.getInstace=function(){return null==this._instance&&(this._instance=new t.WaitServerPanel(0)),this._instance},i}(egret.DisplayObjectContainer);t.WaitServerPanel=e,egret.registerClass(e,"GameUtil.WaitServerPanel")}(GameUtil||(GameUtil={}));var GameUtil;!function(t){function e(t,e,i,n,s,a){void 0===s&&(s=1),void 0===a&&(a=0);var o=new egret.Shape;return o.x=t,o.y=e,o.graphics.beginFill(a,s),o.graphics.drawRect(0,0,i,n),o.graphics.endFill(),o}function i(t,e,i,n,s){void 0===n&&(n=1),void 0===s&&(s=0);var a=new egret.Shape;return a.x=t,a.y=e,a.graphics.beginFill(s,n),a.graphics.drawCircle(0,0,i),a.graphics.endFill(),a}function n(t){var e="";for(var i in t){var n=i+"="+t[i];e+=n+"&"}return e=e.substr(0,e.length-1)}function s(t){return/^[\u4e00-\u9fa5]+$/.test(t)}function a(t){return t=t.replace(/^/,"")}function o(t){return t=t.toUpperCase(),/^0\d{2,3}-?\d{7,11}$|^1\d{10}$/.test(t)}function r(t,e,i,n,s,a){var o=new egret.TextField;o.x=e,o.y=i,o.size=n,o.textAlign="center",o.textColor=a,o.text=s,t.addChild(o),o.anchorOffsetX=.5*o.width,o.anchorOffsetY=.5*o.height,egret.Tween.get(o).to({y:i-40},700),egret.Tween.get(o).to({alpha:0},700).call(function(){t.removeChild(o)},t)}function h(t,e){egret.localStorage.setItem(t,e)}function l(t){egret.localStorage.getItem(t)}function d(t){null!=t?egret.localStorage.removeItem(t):egret.localStorage.clear()}function g(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?decodeURI(i[2]):null}function c(e){return u._i().getSH()-(t.GameConfig.DesignHeight-e)}var u=function(){function e(){this.stagetY=0}var i=(__define,e);return p=i.prototype,e._i=function(){return null==this._instance&&(this._instance=new t.GameConfig),this._instance},p.setStageHeight=function(t){this.stagetY=t},p.getSH=function(){return this.stagetY},e.IP="springmeeting.sxd55.com",e.bRunFPS=!1,e.NullAction=0,e.CrossLeft=1,e.TransAlpha=2,e.OpenDoor=3,e.DesignWidth=750,e.DesignHeight=1334,e._instance=null,e}();t.GameConfig=u,egret.registerClass(u,"GameUtil.GameConfig"),t.createRect=e,t.createCircle=i,t.objectToString=n,t.isChineseName=s,t.removeimag=a,t.isPhoneNum=o,t.numberUpDisp=r,t.saveLocalData=h,t.readLocalData=l,t.clearLocalData=d,t.getQueryString=g,t.setscreenY=c}(GameUtil||(GameUtil={}));var HeadPage=function(t){function e(){t.call(this),this.mbottombtn=[],this.mPagetag=-1,this.mordertopbtn=[],this.mordertoptag=-1}__extends(e,t);var i=(__define,e);return p=i.prototype,p.init=function(){this.showpage()},p.showpage=function(){var t=new GameUtil.MyBitmap(RES.getRes("bottomrect_png"),0,this.stage.stageHeight);t.setanchorOff(0,1),this.addChild(t);for(var e=["homepage_png","Mypindan_png","Myorder_png"],i=0;3>i;i++)this.mbottombtn[i]=new GameUtil.Menu(this,e[i],e[i],this.page,[i]),this.mbottombtn[i].x=120+255*i,this.mbottombtn[i].y=GameUtil.setscreenY(1285),this.addChild(this.mbottombtn[i]);this.mPageCont=new egret.DisplayObjectContainer,this.addChild(this.mPageCont),this.page(0)},p.page=function(t){if(this.mPagetag!=t){for(var e=["homepagedown_png","Mypindandown_png","Myorderdown_png"],i=["homepage_png","Mypindan_png","Myorder_png"],n=0;3>n;n++)n==t?this.mbottombtn[n].setButtonTexture(e[n],e[n]):this.mbottombtn[n].setButtonTexture(i[n],i[n]);this.mPagetag=t,this.mPageCont.removeChildren(),this.mordertoptag=-1,0==t?this.showhomepage():1==t?this.showmypindan():this.showmyorder()}},p.showhomepage=function(){document.title="拼单";var t=new GameUtil.ScrollView(GameUtil.GameConfig.DesignWidth,this.stage.stageHeight-99);t.y=0,this.mPageCont.addChild(t);for(var e=630,i=0;5>i;i++){var n=new GameUtil.MyBitmap(RES.getRes("produpic_png"),GameUtil.GameConfig.DesignWidth/2,309+i*e);t.putItem(n);var s=new GameUtil.MyTextField(32,580+i*e,25,0);s.fontFamily="楷体",s.setText("已"),s.textFlow=[{text:"已有",style:{textColor:0}},{text:"5",style:{textColor:16711680}},{text:"人正在拼单",style:{textColor:0}}],t.putItem(s);var a=new GameUtil.MyTextField(719,580+i*e,25,1);a.fontFamily="楷体",a.setText("3人团:￥8.00"),a.textColor=16711680,t.putItem(a);var o=new GameUtil.MyBitmap(RES.getRes("discountframe_png"),58,40+i*e);t.putItem(o);var r=new GameUtil.MyTextField(58,40+i*e,25,.5,.5);r.fontFamily="楷体",r.setText("2折\n3人团"),r.textAlign=egret.HorizontalAlign.CENTER,r.textColor=16777215,t.putItem(r)}},p.showmypindan=function(){document.title="我的拼单";var t=new GameUtil.ScrollView(GameUtil.GameConfig.DesignWidth,this.stage.stageHeight-99);t.y=0,this.mPageCont.addChild(t);for(var e=270,i=["pindansc_png","pindanfa_png","pindaning_png"],n=0;5>n;n++){var s=new GameUtil.MyBitmap(RES.getRes("mypropic_png"),GameUtil.GameConfig.DesignWidth/2,0);s.$setY(s.$getHeight()/2+n*e),t.putItem(s);var a=new GameUtil.MyTextField(311,135+n*e,25,0);a.fontFamily="楷体",a.textColor=0,a.setText("拼单价:￥8.00/件"),t.putItem(a);var o=Math.floor(100*Math.random())%3,r=new GameUtil.MyBitmap(RES.getRes(i[o]),652,105+n*e);t.putItem(r);var h=new GameUtil.Menu(this,"pindaninfobtn_png","pindaninfobtn_png",this.pindaninfo);if(h.x=405,h.y=210+n*e,t.putItem(h),2!=o){var l=new GameUtil.Menu(this,"orderinfobtn_png","orderinfobtn_png",this.orderinfo);l.x=625,l.y=210+n*e,t.putItem(l)}}},p.pindaninfo=function(){},p.orderinfo=function(){},p.showmyorder=function(){document.title="我的订单";for(var t=["全部订单","待付款","待收货","退款"],e=0;4>e;e++)this.mordertopbtn[e]=new GameUtil.Menu(this,"ordertopframe_png","ordertopframe_png",this.order,[e]),this.mordertopbtn[e].x=94+189*e,this.mordertopbtn[e].y=41,this.mPageCont.addChild(this.mordertopbtn[e]),this.mordertopbtn[e].addButtonText(t[e],30),this.mordertopbtn[e].getBtnText().textColor=0,this.mordertopbtn[e].getBtnText().fontFamily="楷体";this.mordertopselect=new GameUtil.MyBitmap(RES.getRes("ordertopselect_png"),94,83),this.mPageCont.addChild(this.mordertopselect),this.morderCont=new egret.DisplayObjectContainer,this.mPageCont.addChild(this.morderCont),this.order(0)},p.order=function(t){if(this.mordertoptag!=t){for(var e=0;4>e;e++)e==t?this.mordertopbtn[e].getBtnText().textColor=16711680:this.mordertopbtn[e].getBtnText().textColor=0;this.mordertopselect.x=94+189*t,this.mordertoptag=t,this.morderCont.removeChildren(),0==t?this.Myorder():1==t?this.waitPayPage():2==t?this.waitGetPage():this.refundPage()}},p.Myorder=function(){var t=new GameUtil.ScrollView(GameUtil.GameConfig.DesignWidth,this.stage.stageHeight-99-82);t.y=82,this.morderCont.addChild(t);for(var e=415,i=["待付款","待收货","退款-退款成功","退款-退款中","已完成"],n=0;5>n;n++){var s=new GameUtil.MyTextField(31,5+n*e,25,0,0);s.fontFamily="楷体",s.textColor=0,s.setText("2016-01-03 09:21:35"),t.putItem(s);var a=new GameUtil.MyBitmap(RES.getRes("orderpropic_png"),GameUtil.GameConfig.DesignWidth/2,0);a.$setY(a.$getHeight()/2+n*e+28),t.putItem(a);var o=new GameUtil.MyTextField(310,220+n*e,25,0);o.fontFamily="楷体",o.textColor=0,o.setText("数量:1"),t.putItem(o);var r=new GameUtil.MyTextField(719,220+n*e,25,1);r.fontFamily="楷体",r.textColor=0,r.setText("￥8.00/件"),t.putItem(r);var h=new GameUtil.MyTextField(31,307+n*e,25,0);h.fontFamily="楷体",h.textColor=0,h.setText("订单编号:20160103567896"),t.putItem(h);var l=new GameUtil.MyTextField(719,307+n*e,30,1);l.fontFamily="楷体",l.setText("实付:￥8.00"),l.textFlow=[{text:"实付:",style:{textColor:0,size:25}},{text:"￥8.00",style:{textColor:16711680}}],t.putItem(l);var d=Math.floor(100*Math.random())%5,g=new GameUtil.MyTextField(31,372+n*e,30,0);if(g.fontFamily="楷体",g.textColor=16711680,g.setText(i[d]),t.putItem(g),0==d){var c=new GameUtil.Menu(this,"forpaybtn_png","forpaybtn_png",this.forpay);c.x=450,c.y=372+n*e,t.putItem(c);var u=new GameUtil.Menu(this,"cancelorderbtn_png","cancelorderbtn_png",this.cancelorder);u.x=640,u.y=372+n*e,t.putItem(u)}else if(1==d){var m=new GameUtil.Menu(this,"msgetbtn_png","msgetbtn_png",this.makesureget);m.x=640,m.y=372+n*e,t.putItem(m)}else{var p=new GameUtil.Menu(this,"showinfobtn_png","showinfobtn_png",this.showinfo);p.x=640,p.y=372+n*e,t.putItem(p)}}},p.forpay=function(){},p.cancelorder=function(){},p.makesureget=function(){},p.showinfo=function(){},p.waitPayPage=function(){var t=new GameUtil.ScrollView(GameUtil.GameConfig.DesignWidth,this.stage.stageHeight-99-82);t.y=82,this.morderCont.addChild(t)},p.waitGetPage=function(){var t=new GameUtil.ScrollView(GameUtil.GameConfig.DesignWidth,this.stage.stageHeight-99-82);t.y=82,this.morderCont.addChild(t)},p.refundPage=function(){var t=new GameUtil.ScrollView(GameUtil.GameConfig.DesignWidth,this.stage.stageHeight-99-82);t.y=82,this.morderCont.addChild(t)},e}(GameUtil.BassPanel);egret.registerClass(HeadPage,"HeadPage");var LoadingUI=function(t){function e(){t.call(this),this.createView()}__extends(e,t);var i=(__define,e);return p=i.prototype,p.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},p.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e);return p=i.prototype,p.onAddToStage=function(t){GameUtil.GameScene.init(this.stage),GameUtil.GameScene.runscene(new GameUtil.LoadingPanel(this.createGameScene,this,0,0,!0))},p.createGameScene=function(){GameUtil.GameConfig._i().setStageHeight(this.stage.stageHeight),GameUtil.GameScene.runscene(new HeadPage)},e}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");